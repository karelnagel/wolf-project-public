---
import Layout from "../components/Layout.astro";
import { CreateProject } from "../components/CreateProject";
import { useTranslations } from "@wolf-project/i18n";
import { db, Projects } from "astro:db";

const t = useTranslations("en");
const projects = await db.select().from(Projects);
---

<Layout title={undefined} description={undefined}>
  <p>{t.description}</p>
  <div>
    <h1>Projects</h1>
    {
      projects.map((project) => (
        <div>
          {project.projectId} -{" "}
          <a
            class="font-medium text-blue-600 underline dark:text-blue-500 hover:no-underline"
            href={`./project/${project.projectId}`}
          >
            {project.projectName}
          </a>
        </div>
      ))
    }
  </div>
  <CreateProject client:load />
</Layout>
